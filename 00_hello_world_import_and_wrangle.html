<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.179">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="John Little">
<meta name="dcterms.date" content="2022-11-04">

<title>Basic Observable within Quarto from Tidyverse</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="00_hello_world_import_and_wrangle_files/libs/clipboard/clipboard.min.js"></script>
<script src="00_hello_world_import_and_wrangle_files/libs/quarto-html/quarto.js"></script>
<script src="00_hello_world_import_and_wrangle_files/libs/quarto-html/popper.min.js"></script>
<script src="00_hello_world_import_and_wrangle_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="00_hello_world_import_and_wrangle_files/libs/quarto-html/anchor.min.js"></script>
<link href="00_hello_world_import_and_wrangle_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="00_hello_world_import_and_wrangle_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="00_hello_world_import_and_wrangle_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="00_hello_world_import_and_wrangle_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="00_hello_world_import_and_wrangle_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script type="module" src="00_hello_world_import_and_wrangle_files/libs/quarto-ojs/quarto-ojs-runtime.js"></script>
<link href="00_hello_world_import_and_wrangle_files/libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">
<script type="ojs-define">
{"contents":[{"name":"my_economics_tbl_ojs","value":{"date":["1967-07-01","1967-08-01","1967-09-01","1967-10-01","1967-11-01","1967-12-01","1968-01-01","1968-02-01","1968-03-01","1968-04-01","1968-05-01","1968-06-01","1968-07-01","1968-08-01","1968-09-01","1968-10-01","1968-11-01","1968-12-01","1969-01-01","1969-02-01","1969-03-01","1969-04-01","1969-05-01","1969-06-01","1969-07-01","1969-08-01","1969-09-01","1969-10-01","1969-11-01","1969-12-01","1970-01-01","1970-02-01","1970-03-01","1970-04-01","1970-05-01","1970-06-01","1970-07-01","1970-08-01","1970-09-01","1970-10-01","1970-11-01","1970-12-01","1971-01-01","1971-02-01","1971-03-01","1971-04-01","1971-05-01","1971-06-01","1971-07-01","1971-08-01","1971-09-01","1971-10-01","1971-11-01","1971-12-01","1972-01-01","1972-02-01","1972-03-01","1972-04-01","1972-05-01","1972-06-01","1972-07-01","1972-08-01","1972-09-01","1972-10-01","1972-11-01","1972-12-01","1973-01-01","1973-02-01","1973-03-01","1973-04-01","1973-05-01","1973-06-01","1973-07-01","1973-08-01","1973-09-01","1973-10-01","1973-11-01","1973-12-01","1974-01-01","1974-02-01","1974-03-01","1974-04-01","1974-05-01","1974-06-01","1974-07-01","1974-08-01","1974-09-01","1974-10-01","1974-11-01","1974-12-01","1975-01-01","1975-02-01","1975-03-01","1975-04-01","1975-05-01","1975-06-01","1975-07-01","1975-08-01","1975-09-01","1975-10-01","1975-11-01","1975-12-01","1976-01-01","1976-02-01","1976-03-01","1976-04-01","1976-05-01","1976-06-01","1976-07-01","1976-08-01","1976-09-01","1976-10-01","1976-11-01","1976-12-01","1977-01-01","1977-02-01","1977-03-01","1977-04-01","1977-05-01","1977-06-01","1977-07-01","1977-08-01","1977-09-01","1977-10-01","1977-11-01","1977-12-01","1978-01-01","1978-02-01","1978-03-01","1978-04-01","1978-05-01","1978-06-01","1978-07-01","1978-08-01","1978-09-01","1978-10-01","1978-11-01","1978-12-01","1979-01-01","1979-02-01","1979-03-01","1979-04-01","1979-05-01","1979-06-01","1979-07-01","1979-08-01","1979-09-01","1979-10-01","1979-11-01","1979-12-01","1980-01-01","1980-02-01","1980-03-01","1980-04-01","1980-05-01","1980-06-01","1980-07-01","1980-08-01","1980-09-01","1980-10-01","1980-11-01","1980-12-01","1981-01-01","1981-02-01","1981-03-01","1981-04-01","1981-05-01","1981-06-01","1981-07-01","1981-08-01","1981-09-01","1981-10-01","1981-11-01","1981-12-01","1982-01-01","1982-02-01","1982-03-01","1982-04-01","1982-05-01","1982-06-01","1982-07-01","1982-08-01","1982-09-01","1982-10-01","1982-11-01","1982-12-01","1983-01-01","1983-02-01","1983-03-01","1983-04-01","1983-05-01","1983-06-01","1983-07-01","1983-08-01","1983-09-01","1983-10-01","1983-11-01","1983-12-01","1984-01-01","1984-02-01","1984-03-01","1984-04-01","1984-05-01","1984-06-01","1984-07-01","1984-08-01","1984-09-01","1984-10-01","1984-11-01","1984-12-01","1985-01-01","1985-02-01","1985-03-01","1985-04-01","1985-05-01","1985-06-01","1985-07-01","1985-08-01","1985-09-01","1985-10-01","1985-11-01","1985-12-01","1986-01-01","1986-02-01","1986-03-01","1986-04-01","1986-05-01","1986-06-01","1986-07-01","1986-08-01","1986-09-01","1986-10-01","1986-11-01","1986-12-01","1987-01-01","1987-02-01","1987-03-01","1987-04-01","1987-05-01","1987-06-01","1987-07-01","1987-08-01","1987-09-01","1987-10-01","1987-11-01","1987-12-01","1988-01-01","1988-02-01","1988-03-01","1988-04-01","1988-05-01","1988-06-01","1988-07-01","1988-08-01","1988-09-01","1988-10-01","1988-11-01","1988-12-01","1989-01-01","1989-02-01","1989-03-01","1989-04-01","1989-05-01","1989-06-01","1989-07-01","1989-08-01","1989-09-01","1989-10-01","1989-11-01","1989-12-01","1990-01-01","1990-02-01","1990-03-01","1990-04-01","1990-05-01","1990-06-01","1990-07-01","1990-08-01","1990-09-01","1990-10-01","1990-11-01","1990-12-01","1991-01-01","1991-02-01","1991-03-01","1991-04-01","1991-05-01","1991-06-01","1991-07-01","1991-08-01","1991-09-01","1991-10-01","1991-11-01","1991-12-01","1992-01-01","1992-02-01","1992-03-01","1992-04-01","1992-05-01","1992-06-01","1992-07-01","1992-08-01","1992-09-01","1992-10-01","1992-11-01","1992-12-01","1993-01-01","1993-02-01","1993-03-01","1993-04-01","1993-05-01","1993-06-01","1993-07-01","1993-08-01","1993-09-01","1993-10-01","1993-11-01","1993-12-01","1994-01-01","1994-02-01","1994-03-01","1994-04-01","1994-05-01","1994-06-01","1994-07-01","1994-08-01","1994-09-01","1994-10-01","1994-11-01","1994-12-01","1995-01-01","1995-02-01","1995-03-01","1995-04-01","1995-05-01","1995-06-01","1995-07-01","1995-08-01","1995-09-01","1995-10-01","1995-11-01","1995-12-01","1996-01-01","1996-02-01","1996-03-01","1996-04-01","1996-05-01","1996-06-01","1996-07-01","1996-08-01","1996-09-01","1996-10-01","1996-11-01","1996-12-01","1997-01-01","1997-02-01","1997-03-01","1997-04-01","1997-05-01","1997-06-01","1997-07-01","1997-08-01","1997-09-01","1997-10-01","1997-11-01","1997-12-01","1998-01-01","1998-02-01","1998-03-01","1998-04-01","1998-05-01","1998-06-01","1998-07-01","1998-08-01","1998-09-01","1998-10-01","1998-11-01","1998-12-01","1999-01-01","1999-02-01","1999-03-01","1999-04-01","1999-05-01","1999-06-01","1999-07-01","1999-08-01","1999-09-01","1999-10-01","1999-11-01","1999-12-01","2000-01-01","2000-02-01","2000-03-01","2000-04-01","2000-05-01","2000-06-01","2000-07-01","2000-08-01","2000-09-01","2000-10-01","2000-11-01","2000-12-01","2001-01-01","2001-02-01","2001-03-01","2001-04-01","2001-05-01","2001-06-01","2001-07-01","2001-08-01","2001-09-01","2001-10-01","2001-11-01","2001-12-01","2002-01-01","2002-02-01","2002-03-01","2002-04-01","2002-05-01","2002-06-01","2002-07-01","2002-08-01","2002-09-01","2002-10-01","2002-11-01","2002-12-01","2003-01-01","2003-02-01","2003-03-01","2003-04-01","2003-05-01","2003-06-01","2003-07-01","2003-08-01","2003-09-01","2003-10-01","2003-11-01","2003-12-01","2004-01-01","2004-02-01","2004-03-01","2004-04-01","2004-05-01","2004-06-01","2004-07-01","2004-08-01","2004-09-01","2004-10-01","2004-11-01","2004-12-01","2005-01-01","2005-02-01","2005-03-01","2005-04-01","2005-05-01","2005-06-01","2005-07-01","2005-08-01","2005-09-01","2005-10-01","2005-11-01","2005-12-01","2006-01-01","2006-02-01","2006-03-01","2006-04-01","2006-05-01","2006-06-01","2006-07-01","2006-08-01","2006-09-01","2006-10-01","2006-11-01","2006-12-01","2007-01-01","2007-02-01","2007-03-01","2007-04-01","2007-05-01","2007-06-01","2007-07-01","2007-08-01","2007-09-01","2007-10-01","2007-11-01","2007-12-01","2008-01-01","2008-02-01","2008-03-01","2008-04-01","2008-05-01","2008-06-01","2008-07-01","2008-08-01","2008-09-01","2008-10-01","2008-11-01","2008-12-01","2009-01-01","2009-02-01","2009-03-01","2009-04-01","2009-05-01","2009-06-01","2009-07-01","2009-08-01","2009-09-01","2009-10-01","2009-11-01","2009-12-01","2010-01-01","2010-02-01","2010-03-01","2010-04-01","2010-05-01","2010-06-01","2010-07-01","2010-08-01","2010-09-01","2010-10-01","2010-11-01","2010-12-01","2011-01-01","2011-02-01","2011-03-01","2011-04-01","2011-05-01","2011-06-01","2011-07-01","2011-08-01","2011-09-01","2011-10-01","2011-11-01","2011-12-01","2012-01-01","2012-02-01","2012-03-01","2012-04-01","2012-05-01","2012-06-01","2012-07-01","2012-08-01","2012-09-01","2012-10-01","2012-11-01","2012-12-01","2013-01-01","2013-02-01","2013-03-01","2013-04-01","2013-05-01","2013-06-01","2013-07-01","2013-08-01","2013-09-01","2013-10-01","2013-11-01","2013-12-01","2014-01-01","2014-02-01","2014-03-01","2014-04-01","2014-05-01","2014-06-01","2014-07-01","2014-08-01","2014-09-01","2014-10-01","2014-11-01","2014-12-01","2015-01-01","2015-02-01","2015-03-01","2015-04-01"],"pce":[506.7,509.8,515.6,512.2,517.4,525.1,530.9,533.6,544.3,544,549.8,556.3,563.2,567,568.2,571.6,576.7,576.5,583.5,588.7,588.9,593.9,600.3,600.9,602.7,609.9,613.2,618.5,620.5,622.8,628.7,634,632.3,636,642.4,646.3,648.5,652.9,659.1,658.3,656.6,665.6,676.1,679.4,682,688.8,691.1,699.8,698.9,704.9,713,715.8,720.9,728.4,731.5,736.2,749.2,752.5,758,761.6,769.9,776.3,781.1,794.9,800.5,806.1,816.5,825.8,832.8,835.7,841.6,844.3,854.1,853.3,869.2,868.2,876.9,876.6,884.5,889.7,901.4,910.8,922.4,928,937.9,954.8,955.1,959.2,956.2,961.8,975.6,989.4,990.6,995,1018.9,1026.8,1039.8,1047,1054.8,1060.9,1075.8,1092.1,1107.1,1107.7,1114.9,1125.4,1122.7,1140.5,1149.6,1158,1168.8,1176.8,1189,1211.5,1215,1231.3,1238.3,1247.3,1257.1,1263.6,1280.5,1285.7,1294.5,1311.4,1327,1336,1329.5,1355.1,1377.5,1396.4,1412,1425.8,1426.8,1447,1452.9,1466.9,1480.6,1496.5,1502.4,1517.8,1531.2,1538.4,1558.8,1575.7,1586.1,1615.6,1633.9,1641.6,1657.3,1666.3,1697.3,1701.4,1708.2,1695.2,1700.1,1718.8,1747.1,1763.8,1780.5,1817.1,1826.8,1851.7,1870,1884.2,1902.9,1904.4,1913.8,1934.5,1942.1,1966.6,1965.5,1963.9,1970.6,1988.8,1997.1,2021.2,2024.1,2026.3,2044.5,2048.1,2072.2,2080.1,2104.6,2125.8,2149.3,2161.6,2174,2177,2202.8,2226.4,2245.9,2276,2304.4,2320.4,2334.9,2357.6,2366.3,2393.6,2419.4,2403.5,2431.6,2457.5,2474.5,2495.6,2494.6,2512.2,2533.8,2531.3,2571.4,2582.6,2618.8,2640.8,2648.5,2659.5,2696.4,2689.4,2715.7,2752.1,2794.7,2755.8,2771.1,2811.3,2827.1,2820.2,2823.6,2835.2,2857.5,2861.7,2881.2,2898.6,2971.8,2932.9,2928.4,2997.1,2935.5,3001.7,3013.3,3038.8,3048.4,3072.8,3094.7,3130.8,3126.5,3134.5,3144.2,3174.1,3213.7,3221.4,3260.5,3263,3293.6,3318.5,3342.7,3368,3375,3413.7,3430.2,3459.7,3483.7,3488,3498.8,3543,3551.8,3566.6,3585.7,3620.6,3621.9,3633.6,3643.3,3684.2,3730.7,3728.2,3754.9,3770,3775.8,3804.5,3821.7,3848.3,3870.1,3870.6,3871.9,3861.3,3841,3866.7,3913,3907.1,3933.2,3940.5,3966,3969.1,3984.7,3976,4003.6,4020.5,4084.7,4099.5,4117,4131.5,4158.4,4177.1,4204.8,4220.9,4255.3,4284.7,4300.5,4336.4,4340.7,4355.3,4352.5,4393.4,4422.4,4440,4468.9,4481.1,4511.5,4532.8,4554.1,4571.1,4585.1,4632.6,4646,4671.1,4669.5,4708.9,4720.6,4762.6,4775,4812.9,4825.6,4841.6,4851.2,4850.8,4885.4,4890.2,4933.1,4977.5,4970.2,5005.3,5020.5,5013.9,5055.6,5097.5,5085.7,5132.8,5173.3,5208,5223.8,5229.8,5251.9,5275,5296.6,5328.5,5351.2,5378.6,5411.1,5434,5454.2,5459.3,5460.2,5494.2,5548.8,5587,5601.7,5637.7,5661.1,5692.1,5689.9,5723.8,5750.3,5788.1,5837.9,5871.7,5890,5925,5965.6,5998.8,6015.4,6070.5,6072.9,6101.8,6132.9,6196.2,6225.7,6254,6281.5,6326.5,6378.8,6402.1,6437.9,6538.7,6535.3,6619.7,6685.8,6671.1,6707.6,6743.9,6764.1,6799.1,6882.9,6888.2,6902.4,6945.7,6977,6995.8,6987.9,7001.2,7047.1,7060.7,7072.2,7108.9,7012.8,7208.4,7167.9,7147.7,7174.3,7218.3,7237.2,7305.4,7282.7,7318.2,7380.4,7401.5,7391,7430.7,7459.7,7512.8,7533.1,7535.9,7598.4,7621,7628.1,7678.6,7738.2,7834.5,7835,7845.7,7899.6,7929.2,7987.4,8019.8,8076,8088.6,8163.2,8147.2,8218.9,8253.1,8321.1,8374.6,8420.6,8481.5,8470.2,8529.2,8569.5,8645.6,8643.9,8724.8,8829.5,8832.4,8885.8,8926.6,8938.5,8969.6,9059.8,9090.1,9122.1,9174.8,9215.1,9240.8,9322.6,9321.8,9354.7,9373.2,9380.2,9469,9516.3,9546.8,9585.1,9615.7,9651.3,9667.3,9709.6,9753.9,9797.9,9827,9897.8,9908.4,9930,9913.4,9959.4,9996.8,10053.8,10107.9,10104.7,10094.7,10043.5,9960.3,9820.8,9730.7,9783.8,9766,9718.5,9724.8,9748.9,9806.9,9841.7,9961,9883.4,9931.9,9940.5,9998.9,10001.8,10030.6,10089.1,10112.9,10131,10151.4,10184.7,10228.2,10249,10304.7,10354.7,10392.1,10435.5,10470.1,10550.5,10587.6,10612,10636.8,10677.5,10700.6,10738.1,10753.1,10759.5,10772.2,10862.1,10953.5,10951.8,10979.7,10968.6,10946.3,10977.2,11004.1,11061.5,11099.8,11136.8,11140.5,11202.8,11239.6,11227.1,11205.4,11244.6,11268.8,11296.7,11329.2,11366.9,11419.8,11487.6,11517.9,11512.5,11566.2,11643,11702.6,11748.4,11817,11860.5,11944.3,11957.4,12023,12051.4,12062,12046,12082.4,12158.3,12193.8],"pop":[198712,198911,199113,199311,199498,199657,199808,199920,200056,200208,200361,200536,200706,200898,201095,201290,201466,201621,201760,201881,202023,202161,202331,202507,202677,202877,203090,203302,203500,203675,203849,204008,204156,204401,204607,204830,205052,205295,205540,205788,206024,206238,206466,206668,206855,207065,207260,207462,207661,207881,208114,208345,208555,208740,208917,209061,209212,209386,209545,209725,209896,210075,210278,210479,210656,210821,210985,211120,211254,211420,211577,211746,211909,212092,212289,212475,212634,212785,212932,213074,213211,213361,213513,213686,213854,214042,214246,214451,214625,214782,214931,215065,215198,215353,215523,215768,215973,216195,216393,216587,216771,216931,217095,217249,217381,217528,217685,217861,218035,218233,218440,218644,218834,219006,219179,219344,219504,219684,219859,220046,220239,220458,220688,220904,221109,221303,221477,221629,221792,221991,222176,222379,222585,222805,223053,223271,223477,223670,223865,224053,224235,224438,224632,224843,225055,225295,225547,225801,226027,226243,226451,226656,226849,227061,227251,227522,227726,227953,228186,228417,228612,228779,228937,229071,229224,229403,229575,229761,229966,230187,230412,230641,230822,230989,231157,231313,231470,231645,231809,231992,232188,232392,232599,232816,232993,233160,233322,233473,233613,233781,233922,234118,234307,234501,234701,234907,235078,235235,235385,235527,235675,235839,235993,236160,236348,236549,236760,236976,237159,237316,237468,237602,237732,237900,238074,238270,238466,238679,238898,239113,239307,239477,239638,239788,239928,240094,240271,240459,240651,240854,241068,241274,241467,241620,241784,241930,242079,242252,242423,242608,242804,243012,243223,243446,243639,243809,243981,244131,244279,244445,244610,244806,245021,245240,245464,245693,245884,246056,246224,246378,246530,246721,246906,247114,247342,247573,247816,248067,248281,248479,248659,248827,249012,249306,249565,249849,250132,250439,250751,251057,251346,251626,251889,252135,252372,252643,252913,253207,253493,253807,254126,254435,254718,254964,255214,255448,255703,255992,256285,256589,256894,257232,257548,257861,258147,258413,258679,258919,259152,259414,259680,259963,260255,260566,260867,261163,261425,261674,261919,262123,262352,262631,262877,263152,263436,263724,264017,264301,264559,264804,265044,265270,265495,265755,265998,266270,266557,266843,267152,267456,267715,267943,268151,268364,268595,268853,269108,269386,269667,269976,270284,270581,270878,271125,271360,271585,271821,272083,272342,272622,272912,273237,273553,273852,274126,274372,274626,274838,275047,275304,275564,275836,276115,276418,276714,277003,277277,277526,277790,277992,278198,278451,278717,279001,279295,279602,279903,280203,280471,280716,280976,281190,281409,281653,281877,282126,282385,282653,282932,283201,283453,283696,283920,284137,284350,284581,284810,285062,285309,285570,285843,286098,286341,286570,286788,286994,287190,287397,287623,287864,288105,288360,288618,288870,289106,289313,289518,289714,289911,290125,290346,290584,290820,291072,291321,291574,291807,292008,292192,292368,292561,292779,292997,293223,293463,293719,293971,294230,294466,294694,294914,295105,295287,295490,295704,295936,296186,296440,296707,296972,297207,297431,297647,297854,298060,298281,298496,298739,298996,299263,299554,299835,300094,300340,300574,300802,301021,301254,301483,301739,302004,302267,302546,302807,303054,303287,303506,303711,303907,304117,304323,304556,304798,305045,305309,305554,305786,306004,306208,306402,306588,306787,306984,307206,307439,307685,307946,308189,308418,308633,308833,309027,309212,309191.211,309369.053,309548.502,309745.698,309957.775,310176.466,310399.958,310595.764,310781.705,310960.74,311113.376,311265.404,311436.238,311607.08,311791.223,311997.049,312205.367,312429.118,312644.159,312829.523,313009.712,313183.179,313338.977,313499.369,313667.127,313830.53,314017.594,314210.786,314422.341,314646.749,314853.978,315053.863,315232.752,315389.595,315520.143,315662.224,315817.855,315983.654,316171.042,316358.778,316580.327,316806.125,317022.27,317228.026,317411.551,317593.923,317753.883,317917.203,318089.218,318269.505,318464.152,318662.368,318893.786,319125.296,319353.734,319564.209,319746.157,319928.646,320074.511,320230.786,320402.295],"psavert":[12.6,12.6,11.9,12.9,12.8,11.8,11.7,12.3,11.7,12.3,12,11.7,10.7,10.5,10.6,10.8,10.6,11.1,10.3,9.7,10.2,9.7,10.1,11.1,11.8,11.5,11.6,11.4,11.6,11.8,11.8,11.7,12.4,13.3,12.4,12.3,13.5,13.4,12.9,13.1,13.6,13.2,13.3,13.3,13.5,13.2,13.6,14.7,13.8,13.6,13.3,13.3,13.1,13,12.5,12.8,11.8,11.5,11.7,11.7,11.7,12,12.2,13,13.6,13.7,12.4,12.5,12.7,13.2,13.2,13.6,13.2,13.9,13.1,14.4,14.4,14.8,14.3,14.2,13.4,13.1,12.8,12.8,12.8,12.1,12.9,13.4,13.8,14,13.2,12.5,12.7,14.2,17.3,14.3,12.6,13,13,13.4,12.7,12,11.7,12.3,12.2,11.7,12.3,11.4,11.7,11.7,11.4,11.1,11.4,10.6,10.6,9.3,10.5,10.5,10.3,10.6,10.5,10.9,11.1,11,11.2,11.4,11.9,11.1,11,10.8,10.3,10,10.9,10.5,10.6,10.7,10.5,10.4,11.1,11.1,11.2,11,10.3,9.9,10.6,9.7,9.4,9.7,9.7,10.1,9.9,10.1,10.2,11.3,11.4,11.2,11.3,11.3,11.7,11.3,11.6,11.4,10.9,10.8,10.8,10.9,11,10.8,12.3,12,12.4,13,13.2,12.5,12.7,12.1,12.2,12.9,12.3,12.3,12.5,12.6,11.8,11.3,10.9,10.9,11.1,11.1,10.6,10.3,9.9,9.1,9.6,9.2,9.6,9.7,10.3,10.1,10,11.7,11.5,11.5,11.1,11.1,11.6,11.8,11.8,11.7,10.9,11.2,10.3,9.1,8.7,9.9,11.1,9.6,9.1,8.2,7.3,9.1,9,8.6,8.6,9.3,9.9,9.7,9.3,9.4,9.3,9,7.2,8.4,8.8,7,9.7,8.5,8.5,4.5,8.2,7.7,7.5,7.2,7.6,8.3,8.5,8.7,8.1,8.6,8.2,8.8,8.4,8.4,8.6,8.4,8.9,8.6,8.4,8.3,8.5,9,9.5,8.4,8.1,8.2,8.2,7.6,8.1,8.5,8.6,7.8,8,8.6,8.3,8.8,8.7,8.6,8.7,8.1,8.1,7.8,7.9,8.8,9.3,8.8,8,8.6,8.4,8.9,8.2,8.6,8.8,9.3,9,9.7,9.4,9.8,9.7,9.9,9.9,10.1,9.6,9.7,8.7,8,8,10.6,8.6,8.9,8.9,8.7,8.3,7.8,7.6,7.7,6.9,6.3,6.3,9.1,7.1,6.5,6.8,6.4,7.6,6.9,7,6.5,6.8,7.1,7,7.2,7.5,7.8,7.5,6.9,7.1,6.7,7.1,6.7,6.8,7.1,6.6,6.1,6.7,6.7,6.6,5.7,6.7,7.1,6.7,6.6,6.7,6.4,6.4,6.4,6.2,6.2,6.4,6.5,6.8,6.6,6.1,6,6.2,6.2,6.4,6.4,7.4,7.4,7.5,7.2,6.9,6.8,6.9,6.8,6.4,6.2,6.3,5.8,6.4,6.2,5.9,5.2,4.9,4.8,4.8,4.7,4.2,4.6,4.8,4.4,5.4,4.8,4.5,5,4.9,4.9,5.2,5.2,4.5,4.6,4.5,4.2,4.8,4.9,5.3,5,4.5,4.5,5.6,6.8,7,3.4,4.1,4.5,6.1,5.8,5.9,5.8,6.5,6.4,5.5,5.4,5.7,5.7,5.7,5.5,5.5,5.6,5.3,5.3,5.8,5.6,6.3,6,5.2,5.3,5.4,5.4,5,5,4.9,5.3,5.3,5.8,5.3,5.2,4.6,4.5,4.1,6.9,3.7,3.4,3.6,3.1,3.5,2.9,2.2,2.7,2.7,3.1,3.5,3.7,4.2,4.2,4.2,4,3.8,4,3.4,3.6,3.6,3.6,3.9,3.7,3.7,4.1,4.4,4.2,4,3.8,3.7,3.4,3.5,3.4,3.1,3.6,3.7,4.1,4,3.4,7.8,5.5,4.4,3.8,4.7,5.5,6.4,6.4,6.2,5.5,5.9,6.8,8.2,6.7,6,4.9,5.9,5.4,5.9,5.9,6.1,5.8,5.7,6.4,7,6.9,6.8,6.9,6.7,6.6,6.6,7.1,7.4,7.6,7,6.9,6.9,7.2,7.3,7.2,6.8,6.8,7,7.8,8,8,8.5,8.7,8.8,9.1,8.2,8,8.2,8.8,9.7,12,6.3,5.8,5.9,6.4,6.7,6.8,6.6,6.7,6.8,6.3,6.2,6.4,7.1,7.3,7.4,7.4,7.4,7.4,7.5,7.2,7.4,7.2,7.3,7.6,7.7,7.9,7.4,7.6],"uempmed":[4.5,4.7,4.6,4.9,4.7,4.8,5.1,4.5,4.1,4.6,4.4,4.4,4.5,4.2,4.6,4.8,4.4,4.4,4.4,4.9,4,4,4.2,4.4,4.4,4.4,4.7,4.5,4.8,4.6,4.6,4.5,4.6,4.1,4.7,4.9,5.1,5.4,5.2,5.2,5.6,5.9,6.2,6.3,6.4,6.5,6.7,5.7,6.2,6.4,5.8,6.5,6.4,6.2,6.2,6.6,6.6,6.7,6.6,5.4,6.1,6,5.6,5.7,5.7,6.1,5.7,5.2,5.5,5,4.9,5,5.2,4.9,5.4,5.5,5.1,4.7,5,5.1,4.8,5,4.6,5.3,5.7,5,5.3,5.5,5.2,5.7,6.3,7.1,7.2,8.7,9.4,8.8,8.6,9.2,9.2,8.6,9.5,9,9,8.2,8.7,8.2,8.3,7.8,7.7,7.9,7.8,7.7,8.4,8,7.5,7.2,7.2,7.3,7.9,6.2,7.1,7,6.7,6.9,7,6.8,6.5,6.7,6.2,6.1,5.7,6,5.8,5.8,5.6,5.9,5.5,5.6,5.9,5.9,5.9,5.4,5.6,5.6,5.9,4.8,5.5,5.5,5.3,5.7,5.3,5.8,6,5.8,5.7,6.4,7,7.5,7.7,7.5,7.7,7.5,7.4,7.1,7.1,7.4,6.9,6.6,7.1,7.2,6.8,6.8,6.9,6.9,7.1,7.5,7.7,8.1,8.5,9.5,8.5,8.7,9.5,9.7,10,10.2,11.1,9.8,10.4,10.9,12.3,11.3,10.1,9.3,9.3,9.4,9.3,8.7,9.1,8.3,8.3,8.2,9.1,7.5,7.5,7.3,7.6,7.2,7.2,7.3,6.8,7.1,7.1,6.9,6.9,6.6,6.9,7.1,6.9,7.1,7,6.8,6.7,6.9,6.8,6.7,6.8,7,6.9,7.1,7.4,7,7.1,7.1,6.9,6.6,6.6,7.1,6.6,6.5,6.5,6.4,6,6.3,6.2,6,6.2,6.3,6.4,5.9,5.9,5.8,6.1,5.9,5.7,5.6,5.7,5.9,5.6,5.4,5.4,5.4,5.3,5.4,5.6,5,4.9,4.9,4.8,4.9,5.1,5.3,5.1,4.8,5.2,5.2,5.4,5.4,5.6,5.8,5.7,5.9,6,6.2,6.7,6.6,6.4,6.9,7,7.3,6.8,7.2,7.5,7.8,8.1,8.2,8.3,8.5,8.8,8.7,8.6,8.8,8.6,9,9,9.3,8.6,8.5,8.5,8.4,8.1,8.3,8.2,8.2,8.3,8,8.3,8.3,8.6,9.2,9.3,9.1,9.2,9.3,9,8.9,9.2,10,9,8.7,8,8.1,8.3,8.3,9.1,7.9,8.5,8.3,7.9,8.2,8,8.3,8.3,7.8,8.3,8.6,8.6,8.3,8.3,8.4,8.5,8.3,7.7,7.8,7.8,8.1,7.9,8.3,8,8,8.3,7.8,8.2,7.7,7.6,7.5,7.4,7,6.8,6.7,6,6.9,6.7,6.8,6.7,5.8,6.6,6.8,6.9,6.8,6.8,6.2,6.5,6.3,5.8,6.5,6,6.1,6.2,5.8,5.8,6.1,6,6.1,5.8,5.7,6,6.3,5.2,6.1,6.1,6,5.8,6.1,6.6,5.9,6.3,6,6.8,6.9,7.2,7.3,7.7,8.2,8.4,8.3,8.4,8.9,9.5,11,8.9,9,9.5,9.6,9.3,9.6,9.6,9.5,9.7,10.2,9.9,11.5,10.3,10.1,10.2,10.4,10.3,10.4,10.6,10.2,10.2,9.5,9.9,11,8.9,9.2,9.6,9.5,9.7,9.5,9.4,9.2,9.3,9,9.1,9,8.8,9.2,8.4,8.6,8.5,8.7,8.6,9.1,8.7,8.4,8.5,7.3,8,8.4,8,7.9,8.3,7.5,8.3,8.5,9.1,8.6,8.2,7.7,8.7,8.8,8.7,8.4,8.6,8.4,9,8.7,8.7,9.4,7.9,9,9.7,9.7,10.2,10.4,9.8,10.5,10.7,11.7,12.3,13.1,14.2,17.2,16,16.3,17.8,18.9,19.8,20.1,20,19.9,20.4,22.1,22.3,25.2,22.3,21,20.3,21.2,21,21.9,21.5,21.1,21.5,20.9,21.6,22.4,22,22.4,22,20.6,20.8,20.5,20.8,19.7,19.2,19.1,19.9,20.4,17.5,18.4,18.8,19.9,18.6,17.7,15.8,17.2,17.6,17.1,17.1,17,16.2,16.5,16.5,16.3,17.1,17.3,15.4,15.9,15.8,15.7,14.6,13.8,13.1,12.9,13.4,13.6,13,12.9,13.2,12.9,12,11.5],"unemploy":[2944,2945,2958,3143,3066,3018,2878,3001,2877,2709,2740,2938,2883,2768,2686,2689,2715,2685,2718,2692,2712,2758,2713,2816,2868,2856,3040,3049,2856,2884,3201,3453,3635,3797,3919,4071,4175,4256,4456,4591,4898,5076,4986,4903,4987,4959,4996,4949,5035,5134,5042,4954,5161,5154,5019,4928,5038,4959,4922,4923,4913,4939,4849,4875,4602,4543,4326,4452,4394,4459,4329,4363,4305,4305,4350,4144,4396,4489,4644,4731,4634,4618,4705,4927,5063,5022,5437,5523,6140,6636,7501,7520,7978,8210,8433,8220,8127,7928,7923,7897,7794,7744,7534,7326,7230,7330,7053,7322,7490,7518,7380,7430,7620,7545,7280,7443,7307,7059,6911,7134,6829,6925,6751,6763,6815,6386,6489,6318,6337,6180,6127,6028,6309,6080,6125,5947,6077,6228,6109,6173,6109,6069,5840,5959,5996,6320,6190,6296,6238,6325,6683,6702,6729,7358,7984,8098,8363,8281,8021,8088,8023,7718,8071,8051,7982,7869,8174,8098,7863,8036,8230,8646,9029,9267,9397,9705,9895,10244,10335,10538,10849,10881,11217,11529,11938,12051,11534,11545,11408,11268,11154,11246,10548,10623,10282,9887,9499,9331,9008,8791,8746,8762,8456,8226,8537,8519,8367,8381,8198,8358,8423,8321,8339,8395,8302,8460,8513,8196,8248,8298,8128,8138,7795,8402,8383,8364,8439,8508,8319,8135,8310,8243,8159,7883,7892,7865,7862,7542,7574,7398,7268,7261,7102,7227,7035,6936,6953,6929,6876,6601,6779,6546,6605,6843,6604,6568,6537,6518,6682,6359,6205,6468,6375,6577,6495,6511,6590,6630,6725,6667,6752,6651,6598,6797,6742,6590,6922,7188,7368,7459,7764,7901,8015,8265,8586,8439,8736,8692,8586,8666,8722,8842,8931,9198,9283,9454,9460,9415,9744,10040,9850,9787,9781,9398,9565,9557,9325,9183,9056,9110,9149,9121,8930,8763,8714,8750,8542,8477,8630,8583,8470,8331,7915,7927,7946,7933,7734,7632,7375,7230,7375,7187,7153,7645,7430,7427,7527,7484,7478,7328,7426,7423,7491,7313,7318,7415,7423,7095,7337,6882,6979,7031,7236,7253,7158,7102,7000,6873,6655,6799,6655,6608,6656,6454,6308,6476,6368,6306,6422,5941,6047,6212,6259,6179,6300,6280,6100,6032,5976,6111,5783,6004,5796,5951,6025,5838,5915,5778,5716,5653,5708,5858,5733,5481,5758,5651,5747,5853,5625,5534,5639,5634,6023,6089,6141,6271,6226,6484,6583,7042,7142,7694,8003,8258,8182,8215,8304,8599,8399,8393,8390,8304,8251,8307,8520,8640,8520,8618,8588,8842,8957,9266,9011,8896,8921,8732,8576,8317,8370,8167,8491,8170,8212,8286,8136,7990,7927,8061,7932,7934,7784,7980,7737,7672,7651,7524,7406,7345,7553,7453,7566,7279,7064,7184,7072,7120,6980,7001,7175,7091,6847,6727,6872,6762,7116,6927,6731,6850,6766,6979,7149,7067,7170,7237,7240,7645,7685,7497,7822,7637,8395,8575,8937,9438,9494,10074,10538,11286,12058,12898,13426,13853,14499,14707,14601,14814,15009,15352,15219,15098,15046,15113,15202,15325,14849,14474,14512,14648,14579,14516,15081,14348,14013,13820,13737,13957,13855,13962,13763,13818,13948,13594,13302,13093,12797,12813,12713,12646,12660,12692,12656,12471,12115,12124,12005,12298,12471,11950,11689,11760,11654,11751,11335,11279,11270,11136,10787,10404,10202,10349,10380,9702,9859,9460,9608,9599,9262,8990,9090,8717,8903,8610,8504,8526]}}]}
</script>
<script type="ojs-define">
{"contents":[{"name":"my_sw_tbl_ojs","value":{"name":["Luke Skywalker","C-3PO","R2-D2","Darth Vader","Leia Organa","Owen Lars","Beru Whitesun lars","R5-D4","Biggs Darklighter","Obi-Wan Kenobi","Anakin Skywalker","Wilhuff Tarkin","Chewbacca","Han Solo","Greedo","Jabba Desilijic Tiure","Wedge Antilles","Jek Tono Porkins","Yoda","Palpatine","Boba Fett","IG-88","Bossk","Lando Calrissian","Lobot","Ackbar","Mon Mothma","Arvel Crynyd","Wicket Systri Warrick","Nien Nunb","Qui-Gon Jinn","Nute Gunray","Finis Valorum","Jar Jar Binks","Roos Tarpals","Rugor Nass","Ric Olié","Watto","Sebulba","Quarsh Panaka","Shmi Skywalker","Darth Maul","Bib Fortuna","Ayla Secura","Dud Bolt","Gasgano","Ben Quadinaros","Mace Windu","Ki-Adi-Mundi","Kit Fisto","Eeth Koth","Adi Gallia","Saesee Tiin","Yarael Poof","Plo Koon","Mas Amedda","Gregar Typho","Cordé","Cliegg Lars","Poggle the Lesser","Luminara Unduli","Barriss Offee","Dormé","Dooku","Bail Prestor Organa","Jango Fett","Zam Wesell","Dexter Jettster","Lama Su","Taun We","Jocasta Nu","Ratts Tyerell","R4-P17","Wat Tambor","San Hill","Shaak Ti","Grievous","Tarfful","Raymus Antilles","Sly Moore","Tion Medon","Finn","Rey","Poe Dameron","BB8","Captain Phasma","Padmé Amidala"],"mass":[77,75,32,136,49,120,75,32,84,77,84,null,112,80,74,1358,77,110,17,75,78.2,140,113,79,79,83,null,null,20,68,89,90,null,66,82,null,null,null,40,null,null,80,null,55,45,null,65,84,82,87,null,50,null,null,80,null,85,null,null,80,56.2,50,null,80,null,79,55,102,88,null,null,15,null,48,null,57,159,136,79,48,80,null,null,null,null,null,45],"height":[172,167,96,202,150,178,165,97,183,182,188,180,228,180,173,175,170,180,66,170,183,200,190,177,175,180,150,null,88,160,193,191,170,196,224,206,183,137,112,183,163,175,180,178,94,122,163,188,198,196,171,184,188,264,188,196,185,157,183,183,170,166,165,193,191,183,168,198,229,213,167,79,96,193,191,178,216,234,188,178,206,null,null,null,null,null,165]}}]}
</script>
<script type="ojs-define">
{"contents":[{"name":"no_jabb_tbl","value":{"name":["Luke Skywalker","C-3PO","R2-D2","Darth Vader","Leia Organa","Owen Lars","Beru Whitesun lars","R5-D4","Biggs Darklighter","Obi-Wan Kenobi","Anakin Skywalker","Chewbacca","Han Solo","Greedo","Wedge Antilles","Jek Tono Porkins","Yoda","Palpatine","Boba Fett","IG-88","Bossk","Lando Calrissian","Lobot","Ackbar","Wicket Systri Warrick","Nien Nunb","Qui-Gon Jinn","Nute Gunray","Jar Jar Binks","Roos Tarpals","Sebulba","Darth Maul","Ayla Secura","Dud Bolt","Ben Quadinaros","Mace Windu","Ki-Adi-Mundi","Kit Fisto","Adi Gallia","Plo Koon","Gregar Typho","Poggle the Lesser","Luminara Unduli","Barriss Offee","Dooku","Jango Fett","Zam Wesell","Dexter Jettster","Lama Su","Ratts Tyerell","Wat Tambor","Shaak Ti","Grievous","Tarfful","Raymus Antilles","Sly Moore","Tion Medon","Padmé Amidala"],"mass":[77,75,32,136,49,120,75,32,84,77,84,112,80,74,77,110,17,75,78.2,140,113,79,79,83,20,68,89,90,66,82,40,80,55,45,65,84,82,87,50,80,85,80,56.2,50,80,79,55,102,88,15,48,57,159,136,79,48,80,45],"height":[172,167,96,202,150,178,165,97,183,182,188,228,180,173,170,180,66,170,183,200,190,177,175,180,88,160,193,191,196,224,112,175,178,94,163,188,198,196,184,188,185,183,170,166,193,183,168,198,229,79,193,178,216,234,188,178,206,165]}}]}
</script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Basic Observable within Quarto from Tidyverse</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>John Little </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 4, 2022</p>
    </div>
  </div>
    
  </div>
  

</header>

<p>Scope note: Document basic data wrangling for observable js {ojs}.<br>
Assumption: know {tidyverse}.<br>
Goal: Extend <em>tidyverse</em> knowledge to, eventually, write reactive code and generate interactive observable documents.</p>
<p>To start a Quarto ojs document</p>
<ol type="1">
<li>File &gt; New file &gt; Quarto document…</li>
<li>Choose <em>interactive</em> (left-hand sidebar) &gt; <em>Observable js</em> (radio button)</li>
<li>Write code (see examples below)</li>
<li>Click the render button</li>
<li>IMPORTANT: to view, from the <em>Viewer</em> tab (in RStudio), click the <em>Show in new window</em> button</li>
</ol>
<section id="converting-from-r-code" class="level2">
<h2 class="anchored" data-anchor-id="converting-from-r-code">Converting from r code</h2>
<p>Make a Tidyverse tibble into an <a href="https://uwdata.github.io/arquero/">Arquero</a> data frame</p>
<ol type="1">
<li><code>ojs_define()</code> is an {r} function</li>
<li><code>transpose()</code> is an {ojs} function</li>
<li><code>aq.from()</code> is an <em>Arquero</em> function performed in an {ojs} code block</li>
</ol>
</section>
<section id="load-tidyverse-packages" class="level2">
<h2 class="anchored" data-anchor-id="load-tidyverse-packages">load tidyverse packages</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="load-observable-functions-from-d3-and-arquero" class="level2">
<h2 class="anchored" data-anchor-id="load-observable-functions-from-d3-and-arquero">load observable functions from d3 and arquero</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" data-startfrom="41" data-source-offset="-100"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 40;"><span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { LineChart } <span class="im">from</span> <span class="st">"@d3/multi-line-chart"</span></span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {InlineChart} <span class="im">from</span> <span class="st">"@d3/inline-labels"</span></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { ChangeLineChart } <span class="im">from</span> <span class="st">"@d3/change-line-chart"</span></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { Scatterplot } <span class="im">from</span> <span class="st">"@d3/scatterplot"</span>  <span class="co">// https://observablehq.com/@d3/scatterplot?collection=@d3/charts</span></span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { aq<span class="op">,</span> op } <span class="im">from</span> <span class="st">'@uwdata/arquero'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-5" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<p>In theory, can’t I load the arquero library? But this didn’t work. Using the import method, above.</p>
<p>an alternative to importing this is to use `require`, e.g.</p>
<pre><code># {ojs}
aq  </code></pre>
</section>
<section id="import-and-convert-tidyverse-objects" class="level2">
<h2 class="anchored" data-anchor-id="import-and-convert-tidyverse-objects">import and convert tidyverse objects</h2>
<p>make it ready for ojs</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>my_economics_tbl <span class="ot">&lt;-</span> ggplot2<span class="sc">::</span>economics</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ojs_define</span>(<span class="at">my_economics_tbl_ojs =</span> my_economics_tbl)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>my_starwars_tbl <span class="ot">&lt;-</span> starwars <span class="sc">|&gt;</span> </span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, mass, height)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ojs_define</span>(<span class="at">my_sw_tbl_ojs =</span> my_starwars_tbl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="transpose-tidyverse-object-then-convert-to-arquero" class="level2">
<h2 class="anchored" data-anchor-id="transpose-tidyverse-object-then-convert-to-arquero">transpose tidyverse object THEN convert to Arquero</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" data-startfrom="73" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 72;"><span id="cb5-73"><a href="#cb5-73" aria-hidden="true" tabindex="-1"></a>my_aq_eco_from_tbl <span class="op">=</span> aq<span class="op">.</span><span class="fu">from</span>(<span class="fu">transpose</span>(my_economics_tbl_ojs))</span>
<span id="cb5-74"><a href="#cb5-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-75"><a href="#cb5-75" aria-hidden="true" tabindex="-1"></a>my_aq_sw_from_tbl <span class="op">=</span> aq<span class="op">.</span><span class="fu">from</span>(<span class="fu">transpose</span>(my_sw_tbl_ojs))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-2" data-nodetype="declaration">

</div>
</div>
</div>
</div>
</section>
<section id="view-arquero-data-frame" class="level2">
<h2 class="anchored" data-anchor-id="view-arquero-data-frame">View arquero data frame</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" data-startfrom="80" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 79;"><span id="cb6-80"><a href="#cb6-80" aria-hidden="true" tabindex="-1"></a>my_aq_eco_from_tbl<span class="op">.</span><span class="fu">view</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-3" data-nodetype="expression">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" data-startfrom="84" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 83;"><span id="cb7-84"><a href="#cb7-84" aria-hidden="true" tabindex="-1"></a>my_aq_sw_from_tbl<span class="op">.</span><span class="fu">view</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-4" data-nodetype="expression">

</div>
</div>
</div>
<p>More on Arquero</p>
<ul>
<li>https://uwdata.github.io/arquero/</li>
<li>https://quarto.org/docs/interactive/ojs/examples/arquero.html</li>
</ul>
</section>
<section id="viz-via-d3" class="level2">
<h2 class="anchored" data-anchor-id="viz-via-d3">Viz via d3</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" data-startfrom="95" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 94;"><span id="cb8-95"><a href="#cb8-95" aria-hidden="true" tabindex="-1"></a><span class="fu">Scatterplot</span>(my_aq_sw_from_tbl<span class="op">,</span> {</span>
<span id="cb8-96"><a href="#cb8-96" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">height</span><span class="op">,</span></span>
<span id="cb8-97"><a href="#cb8-97" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">mass</span><span class="op">,</span></span>
<span id="cb8-98"><a href="#cb8-98" aria-hidden="true" tabindex="-1"></a>  <span class="dt">title</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">name</span><span class="op">,</span></span>
<span id="cb8-99"><a href="#cb8-99" aria-hidden="true" tabindex="-1"></a>  <span class="dt">xLabel</span><span class="op">:</span> <span class="st">"Height in cm →"</span><span class="op">,</span></span>
<span id="cb8-100"><a href="#cb8-100" aria-hidden="true" tabindex="-1"></a>  <span class="dt">yLabel</span><span class="op">:</span> <span class="st">"↑ Mass in kg"</span><span class="op">,</span></span>
<span id="cb8-101"><a href="#cb8-101" aria-hidden="true" tabindex="-1"></a>  <span class="dt">stroke</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span></span>
<span id="cb8-102"><a href="#cb8-102" aria-hidden="true" tabindex="-1"></a>  <span class="dt">width</span><span class="op">:</span> <span class="dv">800</span><span class="op">,</span></span>
<span id="cb8-103"><a href="#cb8-103" aria-hidden="true" tabindex="-1"></a>  <span class="dt">height</span><span class="op">:</span> <span class="dv">600</span></span>
<span id="cb8-104"><a href="#cb8-104" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-5" data-nodetype="expression">

</div>
</div>
</div>
<p>back to dplyr to wrangle.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>my_sw <span class="ot">&lt;-</span> starwars <span class="sc">|&gt;</span> </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(mass <span class="sc">&lt;</span> <span class="dv">500</span>) <span class="sc">|&gt;</span> </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, mass, height)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ojs_define</span>(<span class="at">no_jabb_tbl =</span> my_sw)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="and-d3-viz-scatterplot" class="level2">
<h2 class="anchored" data-anchor-id="and-d3-viz-scatterplot">and d3 viz (<code>Scatterplot</code>)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" data-startfrom="122" data-source-offset="-65"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 121;"><span id="cb10-122"><a href="#cb10-122" aria-hidden="true" tabindex="-1"></a>sw_no_jabba_aq <span class="op">=</span> aq<span class="op">.</span><span class="fu">from</span>(<span class="fu">transpose</span>(no_jabb_tbl))</span>
<span id="cb10-123"><a href="#cb10-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-124"><a href="#cb10-124" aria-hidden="true" tabindex="-1"></a><span class="fu">Scatterplot</span>(sw_no_jabba_aq<span class="op">,</span> {</span>
<span id="cb10-125"><a href="#cb10-125" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">height</span><span class="op">,</span></span>
<span id="cb10-126"><a href="#cb10-126" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">mass</span><span class="op">,</span></span>
<span id="cb10-127"><a href="#cb10-127" aria-hidden="true" tabindex="-1"></a>  <span class="dt">title</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">name</span><span class="op">,</span></span>
<span id="cb10-128"><a href="#cb10-128" aria-hidden="true" tabindex="-1"></a>  <span class="dt">xLabel</span><span class="op">:</span> <span class="st">"Height in cm →"</span><span class="op">,</span></span>
<span id="cb10-129"><a href="#cb10-129" aria-hidden="true" tabindex="-1"></a>  <span class="dt">yLabel</span><span class="op">:</span> <span class="st">"↑ Mass in kg"</span><span class="op">,</span></span>
<span id="cb10-130"><a href="#cb10-130" aria-hidden="true" tabindex="-1"></a>  <span class="dt">stroke</span><span class="op">:</span> <span class="st">"darkorange"</span><span class="op">,</span></span>
<span id="cb10-131"><a href="#cb10-131" aria-hidden="true" tabindex="-1"></a>  <span class="dt">width</span><span class="op">:</span> <span class="dv">800</span><span class="op">,</span></span>
<span id="cb10-132"><a href="#cb10-132" aria-hidden="true" tabindex="-1"></a>  <span class="dt">height</span><span class="op">:</span> <span class="dv">600</span></span>
<span id="cb10-133"><a href="#cb10-133" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-2" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p>but could use arquero</p>
<p><code>.filter(d =&gt; d.mass &lt; 500)</code></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11" data-startfrom="140" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 139;"><span id="cb11-140"><a href="#cb11-140" aria-hidden="true" tabindex="-1"></a><span class="fu">Scatterplot</span>(my_aq_sw_from_tbl</span>
<span id="cb11-141"><a href="#cb11-141" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">filter</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">mass</span> <span class="op">&lt;</span> <span class="dv">500</span>)<span class="op">,</span> {</span>
<span id="cb11-142"><a href="#cb11-142" aria-hidden="true" tabindex="-1"></a>    <span class="dt">x</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">height</span><span class="op">,</span></span>
<span id="cb11-143"><a href="#cb11-143" aria-hidden="true" tabindex="-1"></a>    <span class="dt">y</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">mass</span><span class="op">,</span></span>
<span id="cb11-144"><a href="#cb11-144" aria-hidden="true" tabindex="-1"></a>    <span class="dt">title</span><span class="op">:</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">name</span><span class="op">,</span></span>
<span id="cb11-145"><a href="#cb11-145" aria-hidden="true" tabindex="-1"></a>    <span class="dt">xLabel</span><span class="op">:</span> <span class="st">"Height in cm →"</span><span class="op">,</span></span>
<span id="cb11-146"><a href="#cb11-146" aria-hidden="true" tabindex="-1"></a>    <span class="dt">yLabel</span><span class="op">:</span> <span class="st">"↑ Mass in kg"</span><span class="op">,</span></span>
<span id="cb11-147"><a href="#cb11-147" aria-hidden="true" tabindex="-1"></a>    <span class="dt">fill</span><span class="op">:</span> <span class="st">"forestgreen"</span><span class="op">,</span></span>
<span id="cb11-148"><a href="#cb11-148" aria-hidden="true" tabindex="-1"></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">800</span><span class="op">,</span></span>
<span id="cb11-149"><a href="#cb11-149" aria-hidden="true" tabindex="-1"></a>    <span class="dt">height</span><span class="op">:</span> <span class="dv">600</span></span>
<span id="cb11-150"><a href="#cb11-150" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-7" data-nodetype="expression">

</div>
</div>
</div>
<section id="regression" class="level3">
<h3 class="anchored" data-anchor-id="regression">regression</h3>
<p><code>Plot</code> is an Observable’s onboard plotting function</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12" data-startfrom="159" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 158;"><span id="cb12-159"><a href="#cb12-159" aria-hidden="true" tabindex="-1"></a>Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb12-160"><a href="#cb12-160" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb12-161"><a href="#cb12-161" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">dot</span>(sw_no_jabba_aq<span class="op">,</span> {</span>
<span id="cb12-162"><a href="#cb12-162" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> <span class="st">"height"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"mass"</span><span class="op">,</span> </span>
<span id="cb12-163"><a href="#cb12-163" aria-hidden="true" tabindex="-1"></a>      <span class="dt">strokeOpacity</span><span class="op">:</span> <span class="fl">0.5</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb12-164"><a href="#cb12-164" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">linearRegressionY</span>(sw_no_jabba_aq<span class="op">,</span> {</span>
<span id="cb12-165"><a href="#cb12-165" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> <span class="st">"height"</span><span class="op">,</span> </span>
<span id="cb12-166"><a href="#cb12-166" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> <span class="st">"mass"</span><span class="op">,</span> </span>
<span id="cb12-167"><a href="#cb12-167" aria-hidden="true" tabindex="-1"></a>      <span class="dt">stroke</span><span class="op">:</span> <span class="st">"steelblue"</span><span class="op">,</span> </span>
<span id="cb12-168"><a href="#cb12-168" aria-hidden="true" tabindex="-1"></a>      <span class="dt">ci</span><span class="op">:</span> <span class="fl">0.95</span>})</span>
<span id="cb12-169"><a href="#cb12-169" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb12-170"><a href="#cb12-170" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-8" data-nodetype="expression">

</div>
</div>
</div>
<hr>
<p>Next up: basic reactivity</p>
<p>Queued: data wrangling in <a href="https://uwdata.github.io/arquero/">arquero</a></p>
<p>cc: BY 4.0</p>
</section>
</section>

</main>
<!-- /main column -->
<script type="ojs-module-contents">
{"contents":[{"methodName":"interpret","cellName":"ojs-cell-1","inline":false,"source":"// import { LineChart }  from \"@d3/line-chart\"\n// import { LineChart } from \"@d3/line-with-tooltip\"\nimport { LineChart } from \"@d3/multi-line-chart\"\nimport {InlineChart} from \"@d3/inline-labels\"\nimport { ChangeLineChart } from \"@d3/change-line-chart\"\nimport { Scatterplot } from \"@d3/scatterplot\"  // https://observablehq.com/@d3/scatterplot?collection=@d3/charts\nimport { aq, op } from '@uwdata/arquero'\n"},{"methodName":"interpret","cellName":"ojs-cell-2","inline":false,"source":"my_aq_eco_from_tbl = aq.from(transpose(my_economics_tbl_ojs))\n\nmy_aq_sw_from_tbl = aq.from(transpose(my_sw_tbl_ojs))\n"},{"methodName":"interpret","cellName":"ojs-cell-3","inline":false,"source":"my_aq_eco_from_tbl.view()\n"},{"methodName":"interpret","cellName":"ojs-cell-4","inline":false,"source":"my_aq_sw_from_tbl.view()\n"},{"methodName":"interpret","cellName":"ojs-cell-5","inline":false,"source":"Scatterplot(my_aq_sw_from_tbl, {\n  x: d => d.height,\n  y: d => d.mass,\n  title: d => d.name,\n  xLabel: \"Height in cm →\",\n  yLabel: \"↑ Mass in kg\",\n  stroke: \"steelblue\",\n  width: 800,\n  height: 600\n})\n"},{"methodName":"interpret","cellName":"ojs-cell-6","inline":false,"source":"// my_aq_eco_from_tbl = aq.from(transpose(my_economics_tbl_ojs))\nsw_no_jabba_aq = aq.from(transpose(no_jabb_tbl))\n\nScatterplot(sw_no_jabba_aq, {\n  x: d => d.height,\n  y: d => d.mass,\n  title: d => d.name,\n  xLabel: \"Height in cm →\",\n  yLabel: \"↑ Mass in kg\",\n  stroke: \"darkorange\",\n  width: 800,\n  height: 600\n})\n"},{"methodName":"interpret","cellName":"ojs-cell-7","inline":false,"source":"\nScatterplot(my_aq_sw_from_tbl\n  .filter(d => d.mass < 500), {\n    x: d => d.height,\n    y: d => d.mass,\n    title: d => d.name,\n    xLabel: \"Height in cm →\",\n    yLabel: \"↑ Mass in kg\",\n    fill: \"forestgreen\",\n    width: 800,\n    height: 600\n})\n"},{"methodName":"interpret","cellName":"ojs-cell-8","inline":false,"source":"Plot.plot({\n  marks: [\n    Plot.dot(sw_no_jabba_aq, {\n      x: \"height\", y: \"mass\", \n      strokeOpacity: 0.5, r: 2}),\n    Plot.linearRegressionY(sw_no_jabba_aq, {\n      x: \"height\", \n      y: \"mass\", \n      stroke: \"steelblue\", \n      ci: 0.95})\n  ]\n})\n"}]}
</script>
<script type="module">
window._ojs.paths.runtimeToDoc = "../../..";
window._ojs.paths.runtimeToRoot = "../../..";
window._ojs.paths.docToRoot = "";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>